<!DOCTYPE html>
<!--
 * XSeen JavaScript Library
 * http://xseen.org/
 *
 * (C)2017 Daly Realism, Los Angeles
 * 

Dual licensed under the MIT and GPL licenses.
See details at http://xseen.org/license

-->
<html>
	<head>
		<meta charset=utf-8>
		<title>XSeen: Reactive style example</title>
		<style>
			body { margin: 0; }
			canvas { width: 67%; height: 67% }
			#xscene {width:800px; height:450px; border:1px red dashed; }
		</style>
		<script src='../ExternalLibraries/XSeenExternals.js'></script>		
		<link rel='stylesheet' type='text/css' href='../Release/xseen.css'>
		<script src='../Release/XSeen.0.5.0.js'></script>
		<style>
.sceneLabels {z-index:999999; position:absolute; font-family:arial,Helvetica,"sans serif"; font-size:82%; }
.xseen-screen-drag {cursor:move; border-top-width:10px; }
.sceneLabels > div {border:1px solid blue; background-color:#ffff99; padding:5px; margin:3px; position:absolute; opacity:.7; border-radius:8px; }
.sceneLabels > div.xseen-screen-drag {border-top-width:10px; border-bottom-width:10px; }
#labelTorus {top:444px; left:202px; white-space:nowrap; }
#labelMonster {top:104px; left:800px; white-space:nowrap; }
#labelLight {top:100px; left:500px; white-space:nowrap; }
		</style>

	</head>
	<body>
		<form id='StyleChanger' onsubmit='return false;'>
			<div>Sphere Color: <input id='ColorSphere' type='text' value='blue'></div>
			<div>Box Color: <input id='ColorBox' type='text' value='red'></div>
			<div>Cylinder Color: <input id='ColorCylinder' type='text' value='teal'></div>
			<div>Cone Color: <input id='ColorCone' type='text' value='green'></div>
		</form>
		<x-scene width='800' height='450'>
			<x-class3d id='frontLight'>
				<x-style3d attribute='color' value='red'></x-style3d>
			</x-class3d>
			<x-class3d id='backLight'>
				<x-style3d attribute='color' value='blue'></x-style3d>
			</x-class3d>
			<x-class3d id='movingLight'>
				<x-style3d attribute='color' value='green'></x-style3d>
				<x-style3d attribute='type' value='point'></x-style3d>
			</x-class3d>
			<x-class3d id='movingLightMarker'>
				<x-style3d attribute='color' value='black'></x-style3d>
				<x-style3d attribute='emissive' value='green'></x-style3d>
			</x-class3d>
			<x-class3d id='background'>
				<x-style3d attribute='src' value='textures/forest_1_*.jpg'></x-style3d>
				<x-style3d attribute='skycolor' value='purple'></x-style3d>
			</x-class3d>
			<x-class3d id='shape'>
				<x-style3d id='s-depth' attribute='depth' value='.7'></x-style3d>
				<x-style3d id='s-height' attribute='height' value='.8'></x-style3d>
				<x-style3d id='s-width' attribute='width' value='.6'></x-style3d>
				<x-style3d id='s-radius' attribute='radius' value='.4'></x-style3d>
				<x-style3d id='s-bottom' attribute='radius-bottom' value='1.75'></x-style3d>
				<x-style3d id='s-top' attribute='radius-top' value='1'></x-style3d>
			</x-class3d>
			<x-class3d id='box'>
				<x-style3d attribute='color' value='red'></x-style3d>
			</x-class3d>
			<x-class3d id='cone'>
				<x-style3d attribute='color' value='green'></x-style3d>
			</x-class3d>
			<x-class3d id='sphere'>
				<x-style3d attribute='color' value='blue'></x-style3d>
			</x-class3d>
			<x-class3d id='cylinder'>
				<x-style3d attribute='color' value='teal'></x-style3d>
			</x-class3d>

			<x-background class3d='background' skycolor='purple'></x-background>
			<x-light class3d='frontLight' type='directional' direction='.707 0 -.707'></x-light>
			<x-light class3d='backLight' type='directional' direction='-.866 0 .5'></x-light>
			<x-camera id='MonoCamera' type='perspective' position='0 2 10' motionType='none' motionSpeed='16'></x-camera>
			<x-navigation type='orbit'></x-navigation>

			<x-group translation='0 0 3'>
				<x-light id='point_light' class3d='movingLight'></x-light>
				<x-sphere class3d='movingLightMarker' radius='.3'></x-sphere>
				<x-animate
					attribute='translation'
					to='0 0 -3'
					delay='0.0'
					duration='4.0'
					repeat='-1'
					yoyo='true'
					easing='inout'
					easingtype='sinusoidal'
				></x-animate>
			</x-group>
			<x-light type='point' color='#00ff00'></x-light>
			<x-torus id='litTorus' segments-tubular='32'></x-torus>
			<x-group translation='4 0 0'><x-box class3d='shape box'></x-box></x-group>
			<x-group translation='-4 0 0'><x-cone class3d='shape cone'></x-cone></x-group>
			<x-group translation='0 4 0'><x-sphere class3d='shape sphere'></x-sphere></x-group>
			<x-group translation='0 -4 0'><x-cylinder class3d='shape cylinder'></x-cylinder></x-group>
		</x-scene>

<script language='javaScript'>
/*
 * Script for making changes to XSeen styles (class3d tag) from HTML form
 */
$(document).ready(function() {
	var newColor
	$('#ColorBox').change (function () {
		newColor = $('#ColorBox').val();
		$('#box x-style3d[attribute="color"]').attr('value', newColor);
	});

	$('#ColorSphere').change (function () {
		newColor = $('#ColorSphere').val();
		$('#sphere x-style3d[attribute="color"]').attr('value', newColor);
	});

	$('#ColorCone').change (function () {
		newColor = $('#ColorCone').val();
		$('#cone x-style3d[attribute="color"]').attr('value', newColor);
	});

	$('#ColorCylinder').change (function () {
		newColor = $('#ColorCylinder').val();
		$('#cylinder x-style3d[attribute="color"]').attr('value', newColor);
	});

});
</script>
	</body>
</html>
